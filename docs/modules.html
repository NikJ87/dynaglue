<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>dynaglue</title><meta name="description" content="Documentation for dynaglue"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">dynaglue</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>dynaglue </h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><section class="tsd-panel-group tsd-index-group"><h2>Index</h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section "><h3>Classes</h3><ul class="tsd-index-list"><li class="tsd-kind-class"><a href="classes/CollectionNotFoundException.html" class="tsd-kind-icon">Collection<wbr/>Not<wbr/>Found<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/ConfigurationException.html" class="tsd-kind-icon">Configuration<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/ConflictException.html" class="tsd-kind-icon">Conflict<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/IndexNotFoundException.html" class="tsd-kind-icon">Index<wbr/>Not<wbr/>Found<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidBatchReplaceDeleteDescriptorException.html" class="tsd-kind-icon">Invalid<wbr/>Batch<wbr/>Replace<wbr/>Delete<wbr/>Descriptor<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidCompositeConditionException.html" class="tsd-kind-icon">Invalid<wbr/>Composite<wbr/>Condition<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidIdException.html" class="tsd-kind-icon">Invalid<wbr/>Id<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidIndexedFieldValueException.html" class="tsd-kind-icon">Invalid<wbr/>Indexed<wbr/>Field<wbr/>Value<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidParentIdException.html" class="tsd-kind-icon">Invalid<wbr/>Parent<wbr/>Id<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidQueryException.html" class="tsd-kind-icon">Invalid<wbr/>Query<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidUpdateValueException.html" class="tsd-kind-icon">Invalid<wbr/>Update<wbr/>Value<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidUpdatesException.html" class="tsd-kind-icon">Invalid<wbr/>Updates<wbr/>Exception</a></li></ul></section><section class="tsd-index-section "><h3>Interfaces</h3><ul class="tsd-index-list"><li class="tsd-kind-interface"><a href="interfaces/AccessPattern.html" class="tsd-kind-icon">Access<wbr/>Pattern</a></li><li class="tsd-kind-interface"><a href="interfaces/ChildCollection.html" class="tsd-kind-icon">Child<wbr/>Collection</a></li><li class="tsd-kind-interface"><a href="interfaces/CollectionLayout.html" class="tsd-kind-icon">Collection<wbr/>Layout</a></li><li class="tsd-kind-interface"><a href="interfaces/RootCollection.html" class="tsd-kind-icon">Root<wbr/>Collection</a></li></ul></section><section class="tsd-index-section "><h3>Type Aliases</h3><ul class="tsd-index-list"><li class="tsd-kind-type-alias"><a href="modules.html#BatchFindByIdDescriptor" class="tsd-kind-icon">Batch<wbr/>Find<wbr/>By<wbr/>Id<wbr/>Descriptor</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BatchFindByIdsResponse" class="tsd-kind-icon">Batch<wbr/>Find<wbr/>By<wbr/>Ids<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BatchReplaceDeleteDescriptor" class="tsd-kind-icon">Batch<wbr/>Replace<wbr/>Delete<wbr/>Descriptor</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BatchReplaceDeleteResponse" class="tsd-kind-icon">Batch<wbr/>Replace<wbr/>Delete<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Collection" class="tsd-kind-icon">Collection</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CompositeCondition" class="tsd-kind-icon">Composite<wbr/>Condition</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Context" class="tsd-kind-icon">Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DeleteChange" class="tsd-kind-icon">Delete<wbr/>Change</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DocumentWithId" class="tsd-kind-icon">Document<wbr/>With<wbr/>Id</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FindChildrenOptions" class="tsd-kind-icon">Find<wbr/>Children<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#FindChildrenResults" class="tsd-kind-icon">Find<wbr/>Children<wbr/>Results</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FindOptions" class="tsd-kind-icon">Find<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FindQuery" class="tsd-kind-icon">Find<wbr/>Query</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#FindResults" class="tsd-kind-icon">Find<wbr/>Results</a></li><li class="tsd-kind-type-alias"><a href="modules.html#KeyPath" class="tsd-kind-icon">Key<wbr/>Path</a></li><li class="tsd-kind-type-alias"><a href="modules.html#NormaliserFunction" class="tsd-kind-icon">Normaliser<wbr/>Function</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PrimaryIndexLayout" class="tsd-kind-icon">Primary<wbr/>Index<wbr/>Layout</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SecondaryIndexLayout" class="tsd-kind-icon">Secondary<wbr/>Index<wbr/>Layout</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SetChange" class="tsd-kind-icon">Set<wbr/>Change</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SetValuesDocument" class="tsd-kind-icon">Set<wbr/>Values<wbr/>Document</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UpdateChangesDocument" class="tsd-kind-icon">Update<wbr/>Changes<wbr/>Document</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Updates" class="tsd-kind-icon">Updates</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#WrappedDocument" class="tsd-kind-icon">Wrapped<wbr/>Document</a></li></ul></section><section class="tsd-index-section "><h3>Functions</h3><ul class="tsd-index-list"><li class="tsd-kind-function"><a href="modules.html#batchFindByIds" class="tsd-kind-icon">batch<wbr/>Find<wbr/>By<wbr/>Ids</a></li><li class="tsd-kind-function"><a href="modules.html#batchReplaceDelete" class="tsd-kind-icon">batch<wbr/>Replace<wbr/>Delete</a></li><li class="tsd-kind-function"><a href="modules.html#createContext" class="tsd-kind-icon">create<wbr/>Context</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#deleteById" class="tsd-kind-icon">delete<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#deleteChildById" class="tsd-kind-icon">delete<wbr/>Child<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#find" class="tsd-kind-icon">find</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findById" class="tsd-kind-icon">find<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findByIdWithChildren" class="tsd-kind-icon">find<wbr/>By<wbr/>Id<wbr/>With<wbr/>Children</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findChildById" class="tsd-kind-icon">find<wbr/>Child<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findChildren" class="tsd-kind-icon">find<wbr/>Children</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#insert" class="tsd-kind-icon">insert</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#replace" class="tsd-kind-icon">replace</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#updateById" class="tsd-kind-icon">update<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#updateChildById" class="tsd-kind-icon">update<wbr/>Child<wbr/>By<wbr/>Id</a></li></ul></section></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Type Aliases</h2><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="BatchFindByIdDescriptor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Batch<wbr/>Find<wbr/>By<wbr/>Id<wbr/>Descriptor<a href="#BatchFindByIdDescriptor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Batch<wbr/>Find<wbr/>By<wbr/>Id<wbr/>Descriptor<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>collection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>parentId<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/batch_find_by_ids.ts#L27">src/operations/batch_find_by_ids.ts:27</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The collection and ID of a root or child
item to retrieve with #transactFindByIds</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>collection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The collection containing the item</p>
</div></div></li><li class="tsd-parameter"><h5>id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> parent<wbr/>Id<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="BatchFindByIdsResponse" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Batch<wbr/>Find<wbr/>By<wbr/>Ids<wbr/>Response<a href="#BatchFindByIdsResponse" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Batch<wbr/>Find<wbr/>By<wbr/>Ids<wbr/>Response<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>documentsByCollection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span><span class="tsd-signature-symbol">; </span>unprocessedDescriptors<span class="tsd-signature-symbol">: </span><a href="modules.html#BatchFindByIdDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchFindByIdDescriptor</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/batch_find_by_ids.ts#L48">src/operations/batch_find_by_ids.ts:48</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The response to a <a href="modules.html#batchFindByIds">batchFindByIds</a> request. The
retrieved documents are stored in a map, organised by
collection name.</p>
</div><div><p>Any unprocessed request keys are included in the
unprocessedDescriptors list. You will need to submit
another request to obtain these.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>documents<wbr/>By<wbr/>Collection<span class="tsd-signature-symbol">: </span><span class="tsd-signature-symbol">{}</span></h5><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>collection: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a><span class="tsd-signature-symbol">[]</span></h5></li></ul></li><li class="tsd-parameter"><h5>unprocessed<wbr/>Descriptors<span class="tsd-signature-symbol">: </span><a href="modules.html#BatchFindByIdDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchFindByIdDescriptor</a><span class="tsd-signature-symbol">[]</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="BatchReplaceDeleteDescriptor" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Batch<wbr/>Replace<wbr/>Delete<wbr/>Descriptor<a href="#BatchReplaceDeleteDescriptor" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Batch<wbr/>Replace<wbr/>Delete<wbr/>Descriptor<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BatchReplaceDescriptor</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">BatchDeleteDescriptor</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/batch_replace_delete.ts#L66">src/operations/batch_replace_delete.ts:66</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A replace (PutItem) or delete (DeleteItem) request
to perform with <a href="modules.html#batchReplaceDelete">batchReplaceDelete</a></p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="BatchReplaceDeleteResponse" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Batch<wbr/>Replace<wbr/>Delete<wbr/>Response<a href="#BatchReplaceDeleteResponse" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Batch<wbr/>Replace<wbr/>Delete<wbr/>Response<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>unprocessedDescriptors<span class="tsd-signature-symbol">: </span><a href="modules.html#BatchReplaceDeleteDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchReplaceDeleteDescriptor</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/batch_replace_delete.ts#L73">src/operations/batch_replace_delete.ts:73</a></li></ul></aside><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>unprocessed<wbr/>Descriptors<span class="tsd-signature-symbol">: </span><a href="modules.html#BatchReplaceDeleteDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchReplaceDeleteDescriptor</a><span class="tsd-signature-symbol">[]</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="Collection" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Collection<a href="#Collection" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Collection<span class="tsd-signature-symbol">:</span> <a href="interfaces/RootCollection.html" class="tsd-signature-type" data-tsd-kind="Interface">RootCollection</a><span class="tsd-signature-symbol"> | </span><a href="interfaces/ChildCollection.html" class="tsd-signature-type" data-tsd-kind="Interface">ChildCollection</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/collection.ts#L106">src/base/collection.ts:106</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A collection is a division based on entity type
for storage in a DynamoDB table. It tells dynaglue
how to store your documents and how to index them
for this entity type.</p>
</div><div><p>Defining multiple
collections on the same DynamoDB table layout
allows you to store multiple data types in the
same DynamoDB table (i.e. a single table design).</p>
<p><em>Use the <a href="interfaces/RootCollection.html">RootCollection</a> or <a href="interfaces/ChildCollection.html">ChildCollection</a> for specifying
a collection</em></p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="CompositeCondition" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Composite<wbr/>Condition<a href="#CompositeCondition" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Composite<wbr/>Condition<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">AndCondition</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">OrCondition</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">NotCondition</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">KeyPathsAndClause</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/conditions.ts#L86">src/base/conditions.ts:86</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A filter or condition expression. This type
serves as the root of a object structure for specifying a
filter/condition expression which is translated to a DynamoDB
Conditional expression for use with some of the available
operations (in their underlying <code>ConditionExpression</code> or
<code>FilterExpression</code> fields.</p>
</div><div><p>The syntax is very similar to Mongo&#39;s query syntax, but a little
bit stricter to help with type evaluation.</p>
<p>A simple condition expression consists of key paths mapped to an operator.
For example, to test <code>profile.username = &#39;test@example.com&#39;</code>, you would
construct an expression as follows:</p>
<pre><code><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-1">&#39;profile.username&#39;</span><span class="hl-0">: { </span><span class="hl-2">$eq:</span><span class="hl-0"> </span><span class="hl-1">&#39;test@example.com&#39;</span><span class="hl-0"> },</span><br/><span class="hl-0">}</span>
</code></pre>
<p>This expression would be translated to DynamoDB&#39;s FilterExpression syntax as:</p>
<p><code>#attr0.username = :value0</code></p>
<p>(<code>profile</code> is a reserved word in DynamoDB and automatically mapped. <code>#attr0</code> and <code>:value0</code> will be
written to <code>ExpressionAttributeNames</code> and <code>ExpressionAttributeValues</code>
respectively for you).</p>
<p>Multiple key paths in the same object are treated as an <code>AND</code> operation implicitly.</p>
<ul>
<li>NOTE: For a full list of key path operators, see the [[KeyPathsAndClause]] type.</li>
</ul>
<p>You can also construct AND, OR and NOT expressions for more complex evaluations, e.g.:</p>
<pre><code><span class="hl-0">{</span><br/><span class="hl-0">  </span><span class="hl-3">$or</span><span class="hl-0">: [</span><br/><span class="hl-0">  { </span><span class="hl-2">$not:</span><span class="hl-0"> { </span><span class="hl-1">&#39;location.value&#39;</span><span class="hl-2">:</span><span class="hl-0"> { </span><span class="hl-2">$lte:</span><span class="hl-0"> </span><span class="hl-4">0</span><span class="hl-0"> } } },</span><br/><span class="hl-0">  {</span><br/><span class="hl-0">     </span><span class="hl-2">$and:</span><span class="hl-0"> [</span><br/><span class="hl-0">       { </span><span class="hl-1">&#39;location.point.x&#39;</span><span class="hl-2">:</span><span class="hl-0"> { </span><span class="hl-2">$gt:</span><span class="hl-0"> </span><span class="hl-4">10</span><span class="hl-0"> } },</span><br/><span class="hl-0">       { </span><span class="hl-1">&#39;location.point.y&#39;</span><span class="hl-2">:</span><span class="hl-0"> { </span><span class="hl-2">$gt:</span><span class="hl-0"> </span><span class="hl-4">1.3</span><span class="hl-0"> } },</span><br/><span class="hl-0">     ],</span><br/><span class="hl-0">  }</span><br/><span class="hl-0">  ],</span><br/><span class="hl-0">};</span>
</code></pre>
<p>This would be written in DynamoDB&#39;s FilterExpression syntax as:</p>
<p><code>(NOT #attr0.#attr1 &lt;= :value0) OR (#attr0.point.x &gt; :value1 AND #attr0.point.y &lt; :value2)</code></p>
<p>where:</p>
<ul>
<li><code>#attr0</code> is mapped to &#39;location&#39; (reserved word)</li>
<li><code>#attr1</code> is mapped to &#39;value&#39; (reserved word)</li>
<li><code>:value0</code> is mapped to <code>0</code> (Expression Attribute Value)</li>
<li><code>:value1</code> is mapped to <code>10</code> (Expression Attribute Value)</li>
<li><code>:value2</code> is mapped to <code>1.3</code> (Expression Attribute Value)</li>
</ul>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="Context" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Context<a href="#Context" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Context<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Opaque</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">&quot;DynaglueContext&quot;</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">DynaglueContext</span><span class="tsd-signature-symbol">&gt;</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/context/index.ts#L25">src/context/index.ts:25</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A dynaglue context. Use <a href="modules.html#createContext">createContext</a> to instantiate.</p>
</div><div><p>The internal layout of this type may change over time.</p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="DeleteChange" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Delete<wbr/>Change<a href="#DeleteChange" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Delete<wbr/>Change<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="modules.html#KeyPath" class="tsd-signature-type" data-tsd-kind="Type alias">KeyPath</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/update_by_id.ts#L67">src/operations/update_by_id.ts:67</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A property path to delete on a document as part of a <a href="modules.html#UpdateChangesDocument">UpdateChangesDocument</a>,
specified either as a dotted string path (e.g. <code>&#39;profile.name&#39;</code>) or a <a href="modules.html#KeyPath">KeyPath</a></p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="DocumentWithId" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Document<wbr/>With<wbr/>Id<a href="#DocumentWithId" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Document<wbr/>With<wbr/>Id<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>_id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/common.ts#L7">src/base/common.ts:7</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A document stored in a collection. If an _id field
is not provided, one will be generated on insert.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>_id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="FindChildrenOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Find<wbr/>Children<wbr/>Options<a href="#FindChildrenOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Find<wbr/>Children<wbr/>Options<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>filter<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol">; </span>limit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>range<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">KeyRangeExpression</span><span class="tsd-signature-symbol">; </span>scanForward<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find_children.ts#L43">src/operations/find_children.ts:43</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The options to a <a href="modules.html#findChildren">findChildren</a> operation</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> filter<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>An optional filter expression for the
find operation</p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> limit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> range<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">KeyRangeExpression</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The range of children to retrieve (on the child&#39;s ID value)</p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> scan<wbr/>Forward<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p><code>true</code> (default) to scan the index forward, <code>false</code> to scan it backward</p>
</div></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-has-type-parameter"><a id="FindChildrenResults" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Find<wbr/>Children<wbr/>Results<a href="#FindChildrenResults" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Find<wbr/>Children<wbr/>Results<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>items<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>nextToken<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Key</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find_children.ts#L19">src/operations/find_children.ts:19</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The results of a <a href="modules.html#findChildren">findChildren</a> operation.</p>
</div></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>items<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the items that were returned in this batch</p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> next<wbr/>Token<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Key</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The pagination token. If this value is specified, it means
there is more results for the query. Provide it to another
call to <code>findChildren</code> to get the next set of results.</p>
</div></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="FindOptions" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Find<wbr/>Options<a href="#FindOptions" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Find<wbr/>Options<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>filter<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol">; </span>limit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>queryOperator<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">QueryOperator</span><span class="tsd-signature-symbol">; </span>scanForward<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find.ts#L210">src/operations/find.ts:210</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The options for a <a href="modules.html#find">find</a> operation</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> filter<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>An optional filter expression for the
find operation</p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> limit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> query<wbr/>Operator<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">QueryOperator</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The sort key condition to use</p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> scan<wbr/>Forward<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p><code>true</code> (default) to scan the index forward, <code>false</code> to scan it backward</p>
</div></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="FindQuery" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Find<wbr/>Query<a href="#FindQuery" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Find<wbr/>Query<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find.ts#L50">src/operations/find.ts:50</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A find query. This is a map of key paths (specified dot-separated)
to values to match.</p>
</div><div><p>The query you specify must match an access pattern on the collection,
otherwise an <a href="classes/IndexNotFoundException.html">IndexNotFoundException</a> will be thrown by <a href="modules.html#find">find</a></p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>matchKey: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-has-type-parameter"><a id="FindResults" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Find<wbr/>Results<a href="#FindResults" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Find<wbr/>Results<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>items<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>nextToken<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Key</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find.ts#L55">src/operations/find.ts:55</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The results of a <a href="modules.html#find">find</a> operation.</p>
</div></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>items<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The items in this batch of results</p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> next<wbr/>Token<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Key</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The pagination token. This value is specified when
there are more results to fetch; pass it to another <a href="modules.html#find">find</a> call
to get the next batch. It will be <code>undefined</code> when there is no
more results.</p>
</div></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="KeyPath" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Key<wbr/>Path<a href="#KeyPath" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Key<wbr/>Path<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/access_pattern.ts#L7">src/base/access_pattern.ts:7</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A path to a key in a document. Each path element should be
a string. For example, a field called &#39;users&#39; at the top level is
simply <code>[&#39;userId&#39;]</code>, while a nested field at &#39;description.title[0]&#39;
is <code>[&#39;description&#39;, &#39;title&#39;, &#39;0&#39;]</code></p>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="NormaliserFunction" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Normaliser<wbr/>Function<a href="#NormaliserFunction" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Normaliser<wbr/>Function<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><a href="modules.html#KeyPath" class="tsd-signature-type" data-tsd-kind="Type alias">KeyPath</a>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/access_pattern.ts#L20">src/base/access_pattern.ts:20</a></li></ul></aside><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures tsd-kind-type-literal tsd-parent-kind-type-alias"><li class="tsd-signature tsd-kind-icon"><span class="tsd-signature-symbol">(</span>path<span class="tsd-signature-symbol">: </span><a href="modules.html#KeyPath" class="tsd-signature-type" data-tsd-kind="Type alias">KeyPath</a>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead">
<p>A function used to normalise a key value before it is packed into
an index value.</p>
</div><div><p>This is useful when you want to index your fields differently to how
they&#39;re stored e.g. lowercase values before they are put in the
index.</p>
</div></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>path: <a href="modules.html#KeyPath" class="tsd-signature-type" data-tsd-kind="Type alias">KeyPath</a></h5></li><li><h5>value: <span class="tsd-signature-type">string</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">string</span></h4></li></ul></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="PrimaryIndexLayout" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Primary<wbr/>Index<wbr/>Layout<a href="#PrimaryIndexLayout" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Primary<wbr/>Index<wbr/>Layout<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>partitionKey<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>sortKey<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/layout.ts#L6">src/base/layout.ts:6</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The structure of your primary index. Your table
must have a partition and sort keys, both of
type &#39;S&#39; (string)</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>partition<wbr/>Key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the primary partition key</p>
</div></div></li><li class="tsd-parameter"><h5>sort<wbr/>Key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the primary sort key</p>
</div></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="SecondaryIndexLayout" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Secondary<wbr/>Index<wbr/>Layout<a href="#SecondaryIndexLayout" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Secondary<wbr/>Index<wbr/>Layout<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>indexName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>partitionKey<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>sortKey<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/layout.ts#L20">src/base/layout.ts:20</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The structure of a Global Secondary Index</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>index<wbr/>Name<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the secondary index</p>
</div></div></li><li class="tsd-parameter"><h5>partition<wbr/>Key<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the secondary index partition key</p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> sort<wbr/>Key<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The name of the secondary index sort key. If
your index does not have one, leave this as
<code>undefined</code></p>
</div></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="SetChange" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Set<wbr/>Change<a href="#SetChange" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Set<wbr/>Change<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><a href="modules.html#KeyPath" class="tsd-signature-type" data-tsd-kind="Type alias">KeyPath</a><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">]</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/update_by_id.ts#L61">src/operations/update_by_id.ts:61</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A key path and value to set on a document as part
of an update operation. Specified as part of <a href="modules.html#UpdateChangesDocument">UpdateChangesDocument</a>,
this is a tuple in the form:</p>
</div><div><p><code>[key_path, new_value]</code></p>
<ul>
<li><em>key_path</em> is the property path into the document to update (either
as a dotted string path e.g. <code>&#39;profile.name&#39;</code> or a <a href="modules.html#KeyPath">KeyPath</a>)</li>
<li><em>new_value</em> is the value to update the property path to (it cannot be
undefined -- if you want to clear the value, see <a href="modules.html#DeleteChange">DeleteChange</a>)</li>
</ul>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="SetValuesDocument" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Set<wbr/>Values<wbr/>Document<a href="#SetValuesDocument" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Set<wbr/>Values<wbr/>Document<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{}</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/update_by_id.ts#L45">src/operations/update_by_id.ts:45</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>An update object, where the key paths are specified as keys and the values
as the new field values.</p>
</div><div><p>Keep in mind, that although this is a partial update, you need to specify
all the keys for a composite key in an access pattern - it cannot partially
update composite index values.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-index-signature"><h5><span class="tsd-signature-symbol">[</span>path: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">]: </span><span class="tsd-signature-type">any</span></h5></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="UpdateChangesDocument" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Update<wbr/>Changes<wbr/>Document<a href="#UpdateChangesDocument" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Update<wbr/>Changes<wbr/>Document<span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>$delete<span class="tsd-signature-symbol">?: </span><a href="modules.html#DeleteChange" class="tsd-signature-type" data-tsd-kind="Type alias">DeleteChange</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">; </span>$set<span class="tsd-signature-symbol">?: </span><a href="modules.html#SetChange" class="tsd-signature-type" data-tsd-kind="Type alias">SetChange</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/update_by_id.ts#L74">src/operations/update_by_id.ts:74</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A set of changes to perform in an <a href="modules.html#updateById">updateById</a> or <a href="modules.html#updateChildById">updateChildById</a>
operation as an object. Each property is optional, but at
least one change must be specified.</p>
</div></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> $delete<span class="tsd-signature-symbol">?: </span><a href="modules.html#DeleteChange" class="tsd-signature-type" data-tsd-kind="Type alias">DeleteChange</a><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The list of key paths to clear the value. Key paths
may be specified in string form e.g. <code>&#39;profile.name&#39;</code> or
array form e.g. <code>[&#39;profile&#39;, &#39;name&#39;]</code></p>
</div></div></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> $set<span class="tsd-signature-symbol">?: </span><a href="modules.html#SetChange" class="tsd-signature-type" data-tsd-kind="Type alias">SetChange</a><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>The list of key paths to set a value. This is a list
of tuples, in the form [key_path, new_value]. The
key paths can be specified in a string form e.g. <code>&#39;profile.name&#39;</code>
or array form e.g. <code>[&#39;profile&#39;, &#39;name&#39;]</code></p>
</div></div></li></ul></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias"><a id="Updates" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Updates<a href="#Updates" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Updates<span class="tsd-signature-symbol">:</span> <a href="modules.html#SetValuesDocument" class="tsd-signature-type" data-tsd-kind="Type alias">SetValuesDocument</a><span class="tsd-signature-symbol"> | </span><a href="modules.html#UpdateChangesDocument" class="tsd-signature-type" data-tsd-kind="Type alias">UpdateChangesDocument</a></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/update_by_id.ts#L97">src/operations/update_by_id.ts:97</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>The set of updates to apply to a document. This can be
specified one of two ways:</p>
</div><div><ul>
<li>an an object of key paths to values to set e.g. <code>{ &#39;profile.name&#39;: &#39;new name&#39;, &#39;status&#39;: 3 }</code></li>
<li>an operator object of changes to perform (see <a href="modules.html#UpdateChangesDocument">UpdateChangesDocument</a>)</li>
</ul>
</div></div></section><section class="tsd-panel tsd-member tsd-kind-type-alias tsd-has-type-parameter"><a id="WrappedDocument" class="tsd-anchor"></a><h3 class="tsd-anchor-link">Wrapped<wbr/>Document<a href="#WrappedDocument" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><div class="tsd-signature tsd-kind-icon">Wrapped<wbr/>Document<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">{ </span>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">; </span>value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> }</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/base/common.ts#L15">src/base/common.ts:15</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>A wrapped document, as it is written to DynamoDB.
You should not have to manipulate this type directly.</p>
</div></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter"><h5>type<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></h5></li><li class="tsd-parameter"><h5>value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span></h5></li></ul></div></section></section><section class="tsd-panel-group tsd-member-group "><h2>Functions</h2><section class="tsd-panel tsd-member tsd-kind-function"><a id="batchFindByIds" class="tsd-anchor"></a><h3 class="tsd-anchor-link">batch<wbr/>Find<wbr/>By<wbr/>Ids<a href="#batchFindByIds" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function"><li class="tsd-signature tsd-kind-icon">batch<wbr/>Find<wbr/>By<wbr/>Ids<span class="tsd-signature-symbol">(</span>ctx<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, items<span class="tsd-signature-symbol">: </span><a href="modules.html#BatchFindByIdDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchFindByIdDescriptor</a><span class="tsd-signature-symbol">[]</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>consistentReadTableNames<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#BatchFindByIdsResponse" class="tsd-signature-type" data-tsd-kind="Type alias">BatchFindByIdsResponse</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/batch_find_by_ids.ts#L56">src/operations/batch_find_by_ids.ts:56</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>ctx: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5></li><li><h5>items: <a href="modules.html#BatchFindByIdDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchFindByIdDescriptor</a><span class="tsd-signature-symbol">[]</span></h5></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <span class="tsd-signature-symbol">{ </span>consistentReadTableNames<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> }</span></h5><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> consistent<wbr/>Read<wbr/>Table<wbr/>Names<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#BatchFindByIdsResponse" class="tsd-signature-type" data-tsd-kind="Type alias">BatchFindByIdsResponse</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function"><a id="batchReplaceDelete" class="tsd-anchor"></a><h3 class="tsd-anchor-link">batch<wbr/>Replace<wbr/>Delete<a href="#batchReplaceDelete" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function"><li class="tsd-signature tsd-kind-icon">batch<wbr/>Replace<wbr/>Delete<span class="tsd-signature-symbol">(</span>ctx<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, descriptors<span class="tsd-signature-symbol">: </span><a href="modules.html#BatchReplaceDeleteDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchReplaceDeleteDescriptor</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#BatchReplaceDeleteResponse" class="tsd-signature-type" data-tsd-kind="Type alias">BatchReplaceDeleteResponse</a><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/batch_replace_delete.ts#L77">src/operations/batch_replace_delete.ts:77</a></li></ul></aside><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>ctx: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5></li><li><h5>descriptors: <a href="modules.html#BatchReplaceDeleteDescriptor" class="tsd-signature-type" data-tsd-kind="Type alias">BatchReplaceDeleteDescriptor</a><span class="tsd-signature-symbol">[]</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#BatchReplaceDeleteResponse" class="tsd-signature-type" data-tsd-kind="Type alias">BatchReplaceDeleteResponse</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function"><a id="createContext" class="tsd-anchor"></a><h3 class="tsd-anchor-link">create<wbr/>Context<a href="#createContext" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function"><li class="tsd-signature tsd-kind-icon">create<wbr/>Context<span class="tsd-signature-symbol">(</span>dynamodb<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">DynamoDBClient</span>, collections<span class="tsd-signature-symbol">: </span><a href="modules.html#Collection" class="tsd-signature-type" data-tsd-kind="Type alias">Collection</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/context/index.ts#L36">src/context/index.ts:36</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Create a context object, with layouts and access patterns for
storing and retrieving data.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{ConfigurationException} when there is a configuration issue in the given collections</p>
</dd></dl></div><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>dynamodb: <span class="tsd-signature-type">DynamoDBClient</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>dynamodb instance, initialised with correct access key and region</p>
</div></div></li><li><h5>collections: <a href="modules.html#Collection" class="tsd-signature-type" data-tsd-kind="Type alias">Collection</a><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>a list of collection definitions to use with this context</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h4><div><p>a context object</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="deleteById" class="tsd-anchor"></a><h3 class="tsd-anchor-link">delete<wbr/>By<wbr/>Id<a href="#deleteById" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">delete<wbr/>By<wbr/>Id<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/delete_by_id.ts#L26">src/operations/delete_by_id.ts:26</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Delete a root object using its <code>_id</code> field</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} when the collection is not found in the context</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>context: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context object</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the collection</p>
</div></div></li><li><h5>id: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the object to remove</p>
</div></div></li><li><h5>options: <span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>options to apply</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>an optional conditional expression that must be satifisfied for the update to proceed</p>
</div></div></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the deleted object (as stored in the database), or
<code>undefined</code> if not found</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="deleteChildById" class="tsd-anchor"></a><h3 class="tsd-anchor-link">delete<wbr/>Child<wbr/>By<wbr/>Id<a href="#deleteChildById" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">delete<wbr/>Child<wbr/>By<wbr/>Id<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, rootObjectId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/delete_child_by_id.ts#L28">src/operations/delete_child_by_id.ts:28</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Delete a child object using its <code>_id</code> field and its parents <code>_id</code>.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} when the collection is not found in the context</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>context: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context object</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the name of the collection</p>
</div></div></li><li><h5>id: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the child object to remove</p>
</div></div></li><li><h5>rootObjectId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the parent object id</p>
</div></div></li><li><h5>options: <span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>options to change behaviour of DynamoDB</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>a condition expression blocking the delete operation</p>
</div></div></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the deleted object (as stored in the database), or
<code>undefined</code> if not found</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="find" class="tsd-anchor"></a><h3 class="tsd-anchor-link">find<a href="#find" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">find<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>ctx<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, query<span class="tsd-signature-symbol">: </span><a href="modules.html#FindQuery" class="tsd-signature-type" data-tsd-kind="Type alias">FindQuery</a>, nextToken<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Key</span>, options<span class="tsd-signature-symbol">?: </span><a href="modules.html#FindOptions" class="tsd-signature-type" data-tsd-kind="Type alias">FindOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#FindResults" class="tsd-signature-type" data-tsd-kind="Type alias">FindResults</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find.ts#L286">src/operations/find.ts:286</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Find an item using one of its collection&#39;s access patterns</p>
</div><div><p>This method is very strict about how the query object is used. Failure
to specify it</p>
<p>Each of its keys is one of the keys paths to a field in the collection objects
(separated by a full-stop <code>.</code>), with the values set to the value to
match against. The value is a direct string comparison, so only string
values can be looked up (the query object cannot contain nested values
or values of types other than string)</p>
<p>Every path that is specified must be part of the same access pattern.
You cannot have extraneous fields to match or mix keys from different
access patterns.</p>
<p>All of the key paths in the partition key part of the access pattern
must be specified.</p>
<p>You do not have to specify all of the sort keys,
<strong>but</strong> because they are stored as a composite key, and we can only do
<code>begins_with</code> match, you must specify the keys in the order they appear,
only leaving off those at the end.</p>
<p>For example, if your sort key is defined as:</p>
<p><code>[[&#39;state&#39;], [&#39;city&#39;], [&#39;street&#39;, &#39;name&#39;], [&#39;street&#39;, &#39;number&#39;]]</code></p>
<p>you could specify any of the following combinations:</p>
<ul>
<li><code>{ state: &#39;...&#39; }</code></li>
<li><code>{ state: &#39;...&#39;, city: &#39;...&#39; }</code></li>
<li><code>{ state: &#39;...&#39;, city: &#39;...&#39;, &#39;street.name&#39;: &#39;...&#39; }</code></li>
<li><code>{ state: &#39;...&#39;, city: &#39;...&#39;, &#39;street.name&#39;: &#39;...&#39;, &#39;street.number&#39;: &#39;...&#39; }</code></li>
</ul>
<p>But these would be invalid:</p>
<ul>
<li><code>{ city: &#39;...&#39; }</code></li>
<li><code>{ state: &#39;...&#39;, &#39;street.name&#39;: &#39;...&#39; }</code></li>
<li><code>{ city: &#39;...&#39;, &#39;street.name&#39;: &#39;...&#39;, &#39;street.number&#39;: &#39;...&#39; }</code></li>
</ul>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p><a href="classes/CollectionNotFoundException.html"><code>CollectionNotFoundException</code></a> when the collection is not found in the context</p>
</dd><dt>throws</dt><dd><p><a href="classes/InvalidQueryException.html"><code>InvalidQueryException</code></a> when the access pattern cannot be found for the specfied combination of query key paths</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>ctx: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context object</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the collection name</p>
</div></div></li><li><h5>query: <a href="modules.html#FindQuery" class="tsd-signature-type" data-tsd-kind="Type alias">FindQuery</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>an object, with each of its keys set to the path of
each field in the search object to match and their corresponding
values to match (see above)s</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> nextToken: <span class="tsd-signature-type">Key</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>pagination token</p>
</div></div></li><li><h5>options: <a href="modules.html#FindOptions" class="tsd-signature-type" data-tsd-kind="Type alias">FindOptions</a><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>options controlling the query</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#FindResults" class="tsd-signature-type" data-tsd-kind="Type alias">FindResults</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>an object containing the items found and a pagination token
(if there is more results)</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="findById" class="tsd-anchor"></a><h3 class="tsd-anchor-link">find<wbr/>By<wbr/>Id<a href="#findById" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">find<wbr/>By<wbr/>Id<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>consistentRead<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find_by_id.ts#L23">src/operations/find_by_id.ts:23</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieve a top-level document by its <code>_id</code> field.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} when the collection is not found in the context</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>context: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context object</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>name of the collection to search</p>
</div></div></li><li><h5>id: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the <code>_id</code> value of the root document</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <span class="tsd-signature-symbol">{ </span>consistentRead<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the the set of options for the search</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> consistent<wbr/>Read<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>search with strongly consistent reads</p>
</div></div></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the stored value, or <code>undefined</code> if not found</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="findByIdWithChildren" class="tsd-anchor"></a><h3 class="tsd-anchor-link">find<wbr/>By<wbr/>Id<wbr/>With<wbr/>Children<a href="#findByIdWithChildren" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">find<wbr/>By<wbr/>Id<wbr/>With<wbr/>Children<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>ctx<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, rootCollectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, rootObjectId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, childCollectionNames<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span>, nextToken<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Key</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>limit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>scanForward<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">FindByIdWithChildrenResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find_by_id_with_children.ts#L186">src/operations/find_by_id_with_children.ts:186</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Find a root object with one or more of its child collections.</p>
</div><div><p>It is used to implement the <strong>adjacency list</strong> access approach,
which is used to reduce round-trips by loading a parent
object and its associated child objects in the same call.</p>
<p>(Because of this, it&#39;s important to understand adjacency lists
and why you would have modelled your collections in a
parent-child relationship to begin with in order to get
the desired performance outcomes)</p>
<p>You can restrict the child collections to return by specifying
the <code>childCollectionNames</code> parameter. Leaving it blank retrieves
all the child objects.</p>

<a href="#performance" id="performance" style="color: inherit; text-decoration: none;">
  <h2>Performance</h2>
</a>
<p>Adjacency lists work by storing all the related items in the
same partition (key) i.e. with the same object ID as the
root object, and then keying the individual items in the
sort key.</p>
<p>We can then use a <code>Query</code> call to return the root object
and child objects together. This means that the performance
and behaviour depends on however the items are stored in the index.</p>
<p>For this reason it&#39;s vital to have
some understanding of how it is implemented, as well as
be aware of your most important access patterns, in order
to get the best performance (especially when you have
many child items or multiple child collections).</p>

<a href="#how-it-works" id="how-it-works" style="color: inherit; text-decoration: none;">
  <h2>How it works</h2>
</a>
<p>This method works by using a DynamoDB <code>Query</code> on the root
object ID (in the partition key). It restricts the child
objects returned by using a <code>BETWEEN</code> filter on the sort
key, bounded by lexigraphically lowest and highest collection
names.</p>
<p>To ensure that only the specified collections are returned,
this is then filtered with a filter expression on the desired
child collection names. This is done with a <code>FilterExpression</code>
in the <code>Query</code> call.</p>
<p>In the ideal scenario, all the
child objects are small enough be returned within DynamoDB&#39;s query limit.
In this case the <code>root</code> value will contain the specified parent object, and
the <code>children</code> value will be a key-value index on the child collection name
to its associated child objects.</p>
<p>However, if the number of items exceeds the DynamoDB query limit (1MB
of total items scanned in the index), you will need to use
the <code>nextToken</code> to retrieve the next set of results. Because of
this, the <code>root</code> object may not be returned on the first call,
so you should check for it on each set of returned results.</p>

<a href="#working-through-an-example" id="working-through-an-example" style="color: inherit; text-decoration: none;">
  <h2>Working through an example</h2>
</a>
<p>Say you have a root object collection called <em>users</em>,
with two child collections, <code>addresses</code> and <code>credentials</code>.</p>
<p>We have two main access patterns:</p>
<ol>
<li>Retrieve a user with all their addresses</li>
<li>Retrieve a user will all their credentials</li>
</ol>

<a href="#retrieving-all-the-addresses" id="retrieving-all-the-addresses" style="color: inherit; text-decoration: none;">
  <h3>Retrieving all the addresses</h3>
</a>
<p>For 1., where you request with child collection <code>addresses</code> only, a query like
this will be given to DynamoDB:</p>
<pre><code><span class="hl-3">KeyConditionExpression</span><span class="hl-0">: </span><span class="hl-2">pk</span><span class="hl-0"> = </span><span class="hl-1">&quot;users|-|&lt;userId&gt;&quot;</span><span class="hl-0"> </span><span class="hl-5">AND</span><span class="hl-0"> </span><span class="hl-2">sk</span><span class="hl-0"> </span><span class="hl-5">BETWEEN</span><span class="hl-0"> </span><span class="hl-1">&quot;addresses|-|&quot;</span><span class="hl-0"> </span><span class="hl-5">AND</span><span class="hl-0"> </span><span class="hl-1">&#39;users|-|&#39;</span><br/><span class="hl-3">FilterExpression</span><span class="hl-0">: </span><span class="hl-6">type</span><span class="hl-0"> </span><span class="hl-7">IN</span><span class="hl-0"> (&quot;users&quot;, &quot;addresses&quot;)</span>
</code></pre>
<p>Because of the way DynamoDB queries work, it will internally
scan over all the child objects (including the <em>credentials</em> objects).
The unwanted <code>credentials</code> objects will be filtered out, but
they will still count internally to the DynamoDB Query page limit
(about 1MB).</p>
<p>The addresses objects will be returned first (the default ordering
goes in lexigraphic order), unless you specify <code>scanIndexForward: false</code>
to start at the end (where the <em>users</em> object is).</p>
<p>If there isn&#39;t many unwanted <em>credentials</em>, the performance impact
will be neglible.</p>
<p>If there any many <em>credentials</em> objects however, there could be many
blank pages returned until the root object is returned.</p>

<a href="#addressing-the-performance" id="addressing-the-performance" style="color: inherit; text-decoration: none;">
  <h3>Addressing the performance</h3>
</a>
<p>Firstly, we should change the scan behaviour to scan the index backwards.
This way, we&#39;ll get the root object in the first page. But DynamoDB
will still be scanning over the credentials objects internally.</p>
<p>In cases like these, it may be better to break your request down into two
calls:</p>
<ul>
<li><code>findById</code> to return the root <em>users</em> object</li>
<li><code>findChildren</code> to return all the <em>addresses</em> object.</li>
</ul>
<p>However, this would negate the point of using a adjacency list
in the first place.</p>
<p>If we look at our access patterns, we never want to retrieve
the credentials and addresses objects at the same time, so we
really want the <em>users</em> root object to appear between the two
sets of child objects.</p>
<p>We could achieve this by changing the collection names so
that it is between the other two by adding a prefix to each collection name:</p>
<pre><code><span class="hl-0">0</span><span class="hl-2">addresses</span><br/><span class="hl-0">1</span><span class="hl-2">users</span><br/><span class="hl-0">2</span><span class="hl-2">credentials</span>
</code></pre>
<p>Then, we can fulfil (1) by requesting <em>1addresses</em> and scanning backwards
from <em>users</em>. Similarly, we can fulfill (2) by requesting <em>credentials</em>
and scanning in the default index order. In both cases, we won&#39;t be
scanning over unnecessary objects.</p>
</div></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>ctx: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the dynaglue context object</p>
</div></div></li><li><h5>rootCollectionName: <span class="tsd-signature-type">string</span></h5></li><li><h5>rootObjectId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the root object ID</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> childCollectionNames: <span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">[]</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the child collections to return - defaults to all child collections</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> nextToken: <span class="tsd-signature-type">Key</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the pagination token, to request the next page of results</p>
</div></div></li><li><h5>options: <span class="tsd-signature-symbol">{ </span>limit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">; </span>scanForward<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>options to control the limit, scan order and extra filtering</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> limit<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">number</span></h5></li><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> scan<wbr/>Forward<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">FindByIdWithChildrenResult</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the root and/or child objects found, along with a <code>nextToken</code> if there is more results</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="findChildById" class="tsd-anchor"></a><h3 class="tsd-anchor-link">find<wbr/>Child<wbr/>By<wbr/>Id<a href="#findChildById" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">find<wbr/>Child<wbr/>By<wbr/>Id<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, id<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, rootObjectId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>consistentRead<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find_child_by_id.ts#L29">src/operations/find_child_by_id.ts:29</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Retrieve a child item by its <code>_id</code> field and its parent <code>_id</code>.</p>
</div><div><p>Child objects can only be directly retrieved with both the parent
and child _id. This limitation allows them to be stored without
an extra index, and enables the <code>findChildren</code> method to retrieve
all the children of a root object in the same call.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} when the collection is not found in the context</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>context: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context object</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>name of the collection to search</p>
</div></div></li><li><h5>id: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the <code>_id</code> value</p>
</div></div></li><li><h5>rootObjectId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the _id of the root object</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> options: <span class="tsd-signature-symbol">{ </span>consistentRead<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol"> }</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the the set of options for the search</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> consistent<wbr/>Read<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">boolean</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>search with strongly consistent reads</p>
</div></div></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">undefined</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the stored value, or <code>undefined</code> if not found</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="findChildren" class="tsd-anchor"></a><h3 class="tsd-anchor-link">find<wbr/>Children<a href="#findChildren" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">find<wbr/>Children<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>ctx<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, childCollectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, rootObjectId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, nextToken<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-type">Key</span>, options<span class="tsd-signature-symbol">?: </span><a href="modules.html#FindChildrenOptions" class="tsd-signature-type" data-tsd-kind="Type alias">FindChildrenOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#FindChildrenResults" class="tsd-signature-type" data-tsd-kind="Type alias">FindChildrenResults</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/find_children.ts#L86">src/operations/find_children.ts:86</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Find all the child objects of a root (top-level) object.</p>
</div><div><p>The parent collection is determined by the reference in the
child collection.</p>
<p>This method has a <code>nextToken</code>, which is used for pagination - it
is returned when there is more values to retrieve. You should
write your code to repeatedly call findChildren with the nextToken
value of the previous call until it comes back undefined in order
to retrieve all the values.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} when the collection is not found in the context</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>ctx: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context</p>
</div></div></li><li><h5>childCollectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>name of the child object collection</p>
</div></div></li><li><h5>rootObjectId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the <code>_id</code> of the root object</p>
</div></div></li><li><h5><span class="tsd-flag ts-flagOptional">Optional</span> nextToken: <span class="tsd-signature-type">Key</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the next token from the previous call, or <code>undefined</code> if there are no more values</p>
</div></div></li><li><h5>options: <a href="modules.html#FindChildrenOptions" class="tsd-signature-type" data-tsd-kind="Type alias">FindChildrenOptions</a><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the options to control the query</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="modules.html#FindChildrenResults" class="tsd-signature-type" data-tsd-kind="Type alias">FindChildrenResults</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="insert" class="tsd-anchor"></a><h3 class="tsd-anchor-link">insert<a href="#insert" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">insert<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/insert.ts#L25">src/operations/insert.ts:25</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Insert a value into a collection. Adds an _id field to the value
if one is not provided using the <code>bson</code> ID generator (similar to
MongoDB IDs).</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{ConflictException} when an item with the same _id already exists</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>context: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context to use</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>name of the collection</p>
</div></div></li><li><h5>value: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>value to insert</p>
</div></div></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>a copy of the inserted value, with appended <code>_id</code> field if not provided</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="replace" class="tsd-anchor"></a><h3 class="tsd-anchor-link">replace<a href="#replace" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">replace<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, value<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/replace.ts#L25">src/operations/replace.ts:25</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Insert or replace a value in a collection.</p>
</div><div><p>This operation differs from <a href="modules.html#insert">insert</a> in that it does not check for the existence
of a document with the same <code>_id</code> value - it will replace whatever is there.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} when the collection is not found</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>context: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the collection to update</p>
</div></div></li><li><h5>value: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the document to insert or replace</p>
</div></div></li><li><h5>options: <span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>options to apply</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>an optional conditional expression that must be satifisfied for the update to proceed</p>
</div></div></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the inserted / replaced value</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="updateById" class="tsd-anchor"></a><h3 class="tsd-anchor-link">update<wbr/>By<wbr/>Id<a href="#updateById" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">update<wbr/>By<wbr/>Id<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>ctx<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, objectId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, updates<span class="tsd-signature-symbol">: </span><a href="modules.html#Updates" class="tsd-signature-type" data-tsd-kind="Type alias">Updates</a>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/update_by_id.ts#L533">src/operations/update_by_id.ts:533</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Update a document using its <code>_id</code>.</p>
</div><div><p>This operation allows you to do a partial update of a collection document i.e. without
specifying all the values (it uses DynamoDB<code>s </code>UpdateItem` operation).</p>
<p>At this time, the <code>updates</code> value just updates specified key paths on the target document.</p>
<p>If some of the update key paths are indexed values, the indexes will also be updated. Because
of this, you must specify all the key values in an access pattern to ensure indexes are
updated consistently.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} collection not found</p>
</dd><dt>throws</dt><dd><p>{InvalidUpdatesException} thrown when the updates object is invalid or incomplete</p>
</dd><dt>throws</dt><dd><p>{InvalidUpdateValueException} thrown when one of the update values is an invalid type</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>ctx: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the context</p>
</div></div></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the collection to update</p>
</div></div></li><li><h5>objectId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the <code>_id</code> value of the object to update</p>
</div></div></li><li><h5>updates: <a href="modules.html#Updates" class="tsd-signature-type" data-tsd-kind="Type alias">Updates</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the set of updates to apply.</p>
</div></div></li><li><h5>options: <span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> = {}</span></h5><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a></h5></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the updated object value in its entirety.</p>
</div></li></ul></section><section class="tsd-panel tsd-member tsd-kind-function tsd-has-type-parameter"><a id="updateChildById" class="tsd-anchor"></a><h3 class="tsd-anchor-link">update<wbr/>Child<wbr/>By<wbr/>Id<a href="#updateChildById" aria-label="Permalink" class="tsd-anchor-icon"><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-link" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M10 14a3.5 3.5 0 0 0 5 0l4 -4a3.5 3.5 0 0 0 -5 -5l-.5 .5"></path><path d="M14 10a3.5 3.5 0 0 0 -5 0l-4 4a3.5 3.5 0 0 0 5 5l.5 -.5"></path></svg></a></h3><ul class="tsd-signatures tsd-kind-function tsd-has-type-parameter"><li class="tsd-signature tsd-kind-icon">update<wbr/>Child<wbr/>By<wbr/>Id<span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span>context<span class="tsd-signature-symbol">: </span><a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a>, collectionName<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, objectId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, parentObjectId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, updates<span class="tsd-signature-symbol">: </span><a href="modules.html#Updates" class="tsd-signature-type" data-tsd-kind="Type alias">Updates</a>, options<span class="tsd-signature-symbol">?: </span><span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/chris-armstrong/dynaglue/blob/23cb995/src/operations/update_child_by_id.ts#L31">src/operations/update_child_by_id.ts:31</a></li></ul></aside><div class="tsd-comment tsd-typography"><div class="lead">
<p>Update a child document using its <code>_id</code> and parent <code>_id</code>.</p>
</div><div><p>This operation allows you to do a partial update of a collection document i.e. without
specifying all the values (it uses DynamoDB<code>s </code>UpdateItem` operation).</p>
<p>At this time, the <code>updates</code> value just updates specified key paths on the target document.</p>
<p>If some of the update key paths are indexed values, the indexes will also be updated. Because
of this, you must specify all the key values in an access pattern to ensure indexes are
updated consistently.</p>
</div><dl class="tsd-comment-tags"><dt>throws</dt><dd><p>{CollectionNotFoundException} collection not found</p>
</dd><dt>throws</dt><dd><p>{InvalidUpdatesException} thrown when the updates object is invalid or incomplete</p>
</dd><dt>throws</dt><dd><p>{InvalidUpdateValueException} thrown when one of the update values is an invalid type</p>
</dd></dl></div><h4 class="tsd-type-parameters-title">Type Parameters</h4><ul class="tsd-type-parameters"><li><h4>DocumentType<span class="tsd-signature-symbol"> extends </span><a href="modules.html#DocumentWithId" class="tsd-signature-type" data-tsd-kind="Type alias">DocumentWithId</a></h4></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>context: <a href="modules.html#Context" class="tsd-signature-type" data-tsd-kind="Type alias">Context</a></h5></li><li><h5>collectionName: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the collection to update</p>
</div></div></li><li><h5>objectId: <span class="tsd-signature-type">string</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the <code>_id</code> value of the object to update</p>
</div></div></li><li><h5>parentObjectId: <span class="tsd-signature-type">string</span></h5></li><li><h5>updates: <a href="modules.html#Updates" class="tsd-signature-type" data-tsd-kind="Type alias">Updates</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>the set of updates to apply.</p>
</div></div></li><li><h5>options: <span class="tsd-signature-symbol">{ </span>condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a><span class="tsd-signature-symbol"> }</span><span class="tsd-signature-symbol"> = {}</span></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>options to apply</p>
</div></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-flag ts-flagOptional">Optional</span> condition<span class="tsd-signature-symbol">?: </span><a href="modules.html#CompositeCondition" class="tsd-signature-type" data-tsd-kind="Type alias">CompositeCondition</a></h5><div class="tsd-comment tsd-typography"><div class="lead">
<p>an optional conditional expression that must be satifisfied for the update to proceed</p>
</div></div></li></ul></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type" data-tsd-kind="Type parameter">DocumentType</span><span class="tsd-signature-symbol">&gt;</span></h4><div><p>the updated object value in its entirety.</p>
</div></li></ul></section></section></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/CollectionNotFoundException.html" class="tsd-kind-icon">Collection<wbr/>Not<wbr/>Found<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/ConfigurationException.html" class="tsd-kind-icon">Configuration<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/ConflictException.html" class="tsd-kind-icon">Conflict<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/IndexNotFoundException.html" class="tsd-kind-icon">Index<wbr/>Not<wbr/>Found<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidBatchReplaceDeleteDescriptorException.html" class="tsd-kind-icon">Invalid<wbr/>Batch<wbr/>Replace<wbr/>Delete<wbr/>Descriptor<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidCompositeConditionException.html" class="tsd-kind-icon">Invalid<wbr/>Composite<wbr/>Condition<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidIdException.html" class="tsd-kind-icon">Invalid<wbr/>Id<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidIndexedFieldValueException.html" class="tsd-kind-icon">Invalid<wbr/>Indexed<wbr/>Field<wbr/>Value<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidParentIdException.html" class="tsd-kind-icon">Invalid<wbr/>Parent<wbr/>Id<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidQueryException.html" class="tsd-kind-icon">Invalid<wbr/>Query<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidUpdateValueException.html" class="tsd-kind-icon">Invalid<wbr/>Update<wbr/>Value<wbr/>Exception</a></li><li class="tsd-kind-class"><a href="classes/InvalidUpdatesException.html" class="tsd-kind-icon">Invalid<wbr/>Updates<wbr/>Exception</a></li><li class="tsd-kind-interface"><a href="interfaces/AccessPattern.html" class="tsd-kind-icon">Access<wbr/>Pattern</a></li><li class="tsd-kind-interface"><a href="interfaces/ChildCollection.html" class="tsd-kind-icon">Child<wbr/>Collection</a></li><li class="tsd-kind-interface"><a href="interfaces/CollectionLayout.html" class="tsd-kind-icon">Collection<wbr/>Layout</a></li><li class="tsd-kind-interface"><a href="interfaces/RootCollection.html" class="tsd-kind-icon">Root<wbr/>Collection</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BatchFindByIdDescriptor" class="tsd-kind-icon">Batch<wbr/>Find<wbr/>By<wbr/>Id<wbr/>Descriptor</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BatchFindByIdsResponse" class="tsd-kind-icon">Batch<wbr/>Find<wbr/>By<wbr/>Ids<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BatchReplaceDeleteDescriptor" class="tsd-kind-icon">Batch<wbr/>Replace<wbr/>Delete<wbr/>Descriptor</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BatchReplaceDeleteResponse" class="tsd-kind-icon">Batch<wbr/>Replace<wbr/>Delete<wbr/>Response</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Collection" class="tsd-kind-icon">Collection</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CompositeCondition" class="tsd-kind-icon">Composite<wbr/>Condition</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Context" class="tsd-kind-icon">Context</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DeleteChange" class="tsd-kind-icon">Delete<wbr/>Change</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DocumentWithId" class="tsd-kind-icon">Document<wbr/>With<wbr/>Id</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FindChildrenOptions" class="tsd-kind-icon">Find<wbr/>Children<wbr/>Options</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#FindChildrenResults" class="tsd-kind-icon">Find<wbr/>Children<wbr/>Results</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FindOptions" class="tsd-kind-icon">Find<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#FindQuery" class="tsd-kind-icon">Find<wbr/>Query</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#FindResults" class="tsd-kind-icon">Find<wbr/>Results</a></li><li class="tsd-kind-type-alias"><a href="modules.html#KeyPath" class="tsd-kind-icon">Key<wbr/>Path</a></li><li class="tsd-kind-type-alias"><a href="modules.html#NormaliserFunction" class="tsd-kind-icon">Normaliser<wbr/>Function</a></li><li class="tsd-kind-type-alias"><a href="modules.html#PrimaryIndexLayout" class="tsd-kind-icon">Primary<wbr/>Index<wbr/>Layout</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SecondaryIndexLayout" class="tsd-kind-icon">Secondary<wbr/>Index<wbr/>Layout</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SetChange" class="tsd-kind-icon">Set<wbr/>Change</a></li><li class="tsd-kind-type-alias"><a href="modules.html#SetValuesDocument" class="tsd-kind-icon">Set<wbr/>Values<wbr/>Document</a></li><li class="tsd-kind-type-alias"><a href="modules.html#UpdateChangesDocument" class="tsd-kind-icon">Update<wbr/>Changes<wbr/>Document</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Updates" class="tsd-kind-icon">Updates</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#WrappedDocument" class="tsd-kind-icon">Wrapped<wbr/>Document</a></li><li class="tsd-kind-function"><a href="modules.html#batchFindByIds" class="tsd-kind-icon">batch<wbr/>Find<wbr/>By<wbr/>Ids</a></li><li class="tsd-kind-function"><a href="modules.html#batchReplaceDelete" class="tsd-kind-icon">batch<wbr/>Replace<wbr/>Delete</a></li><li class="tsd-kind-function"><a href="modules.html#createContext" class="tsd-kind-icon">create<wbr/>Context</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#deleteById" class="tsd-kind-icon">delete<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#deleteChildById" class="tsd-kind-icon">delete<wbr/>Child<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#find" class="tsd-kind-icon">find</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findById" class="tsd-kind-icon">find<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findByIdWithChildren" class="tsd-kind-icon">find<wbr/>By<wbr/>Id<wbr/>With<wbr/>Children</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findChildById" class="tsd-kind-icon">find<wbr/>Child<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#findChildren" class="tsd-kind-icon">find<wbr/>Children</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#insert" class="tsd-kind-icon">insert</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#replace" class="tsd-kind-icon">replace</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#updateById" class="tsd-kind-icon">update<wbr/>By<wbr/>Id</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#updateChildById" class="tsd-kind-icon">update<wbr/>Child<wbr/>By<wbr/>Id</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>